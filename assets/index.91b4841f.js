var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,o=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,l=(e,t)=>{for(var a in t||(t={}))n.call(t,a)&&o(e,a,t[a]);if(r)for(var a of r(t))s.call(t,a)&&o(e,a,t[a]);return e},c=(e,r)=>t(e,a(r));import{R as i,C as m,g as d,u,a as p,b as E,c as x,B as f,P as y,T as _,F as g,L as v,D as h,d as b,N as R,H as S,e as N,f as O,s as w,h as U,i as k,S as I,j as L,k as P,l as T,m as C,n as j,o as A,t as D,p as G,r as z,_ as V,A as M,I as F,q as Q,v as $,G as B,w as q,x as H,y as K}from"./vendor.3b6eeff8.js";let J;const W={},X=function(e,t){if(!t)return e();if(void 0===J){const e=document.createElement("link").relList;J=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in W)return;W[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":J,t||(r.as="script",r.crossOrigin=""),r.href=e,document.head.appendChild(r),t?new Promise(((e,t)=>{r.addEventListener("load",e),r.addEventListener("error",t)})):void 0}))).then((()=>e()))};const Y=()=>i.createElement("div",null),Z=e=>t=>{t({type:"USER_LOGIN_SUCCESS",payload:{name:"luffy"}}),null==e||e()},ee=(e,t)=>async t=>{t({type:"USER_LOGIN_SUCCESS",payload:l({},e)}),m.set("userInfo-bwd",JSON.stringify(e))},te=d`
  query GetUserInfo {
    user: me {
      avatar
      firstName
      id
      lastName
      userName
      verified
    }
  }
`,ae=()=>u(te),re=()=>{const e=p(),t=E((e=>e.darkMode)),a=x(),{data:r}=ae(),{user:n}=r||{};return i.createElement("div",{className:"flex items-center space-x-6 font-bold"},i.createElement("div",{className:"p-3 rounded-lg hover:bg-gray-200 dark:bg-transparent dark:hover:bg-gray-600 dark:text-gray-50"},i.createElement(f,{className:"cursor-pointer w-7 h-7"})),i.createElement(y,{as:"div",className:"relative inline-block text-left"},i.createElement(y.Button,{className:"flex items-center px-2 py-1 space-x-2 rounded-lg cursor-pointer hover:bg-gray-200 dark:bg-transparent dark:hover:bg-gray-600"},i.createElement("img",{src:null==n?void 0:n.avatar,alt:"",className:"rounded-full w-11 h-11"}),i.createElement("div",{className:"text-lg font-bold dark:text-gray-50"},null==n?void 0:n.lastName)),i.createElement(_,{as:g.exports.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95"},i.createElement(y.Panel,{className:"absolute right-0 p-1 mt-2 origin-top-right bg-white divide-y divide-gray-100 rounded-md shadow-lg dark:bg-gray-600 dark:text-gray-50 w-96 ring-1 ring-black ring-opacity-5 focus:outline-none"},i.createElement("div",{className:"px-1 py-1 "},i.createElement(v,{to:"/user-page",className:"flex items-center p-2 space-x-2 transition-colors rounded-md hover:bg-gray-100 dark:hover:bg-gray-500"},i.createElement("img",{src:null==n?void 0:n.avatar,alt:"",className:"object-cover w-16 h-16 rounded-full"}),i.createElement("div",{className:""},i.createElement("div",{className:"text-base font-bold dark:text-gray-50"},null==n?void 0:n.lastName),i.createElement("div",{className:"text-sm font-normal text-gray-500 dark:text-gray-200"},"Go to your user page"))),i.createElement("button",{className:" group flex rounded-md items-center w-full px-2 py-2 justify-between font-bold text-base h-14"},i.createElement("span",null,"Darkmode"),i.createElement(h,{onChange:t=>{console.log(t),e({type:"CHANGE_DARKMODE",payload:t})},checked:t,size:80})),i.createElement(v,{to:"/user-event",className:"flex items-center p-2 text-base font-bold h-14"},"My Event"),i.createElement("button",{onClick:()=>{return e((t=()=>a.push("/"),async e=>{try{e({type:"USER_LOGOUT_REQUEST"}),e({type:"USER_LOGOUT_SUCCESS"}),m.remove("userInfo-bwd"),t()}catch(a){e({type:"USER_LOGOUT_ERROR",payload:a})}}));var t},to:"/user-event",className:"flex items-center p-2 text-base font-bold h-14"},"Logout"))))))},ne=()=>{const e=g.exports.useRef(null),t=g.exports.useRef(null);return console.log("render"),g.exports.useEffect((()=>{const a=b.timeline();return a.from(t.current,{width:0,opacity:0,ease:"sine.inOut",immediateRender:!1,duration:1,delay:.5}),a.from(e.current,{opacity:0,x:"20px",duration:1},"-=0.5"),a.play(),()=>{}}),[]),i.createElement(v,{ref:t,to:"/login",className:"py-3 bg-gray-100 login px-9 rounded-xl dark:text-white dark:bg-gray-600"},i.createElement("span",{ref:e},"Login"))},se=()=>{const e=g.exports.useRef(null),t=g.exports.useRef(null);return g.exports.useEffect((()=>{const a=b.timeline();return a.from(t.current,{width:0,opacity:0,ease:"sine.inOut",immediateRender:!1,duration:1,delay:.5}),a.from(e.current,{opacity:0,x:"20px",duration:1},"-=0.5"),window.onload=()=>a.play(),()=>{}}),[]),i.createElement(v,{ref:t,to:"/signup",className:"py-3 text-blue-600 bg-gray-200 signup px-9 rounded-xl"},i.createElement("span",{ref:e,className:"whitespace-nowrap"},"Sign up"))},oe=()=>{const e=p(),t=E((e=>e.darkMode));return i.createElement("div",{className:"flex items-center space-x-2 font-bold"},i.createElement(ne,null),i.createElement(se,null),i.createElement(h,{className:"hidden md:block",onChange:t=>{console.log(t),e({type:"CHANGE_DARKMODE",payload:t})},checked:t,size:80}))};var le=g.exports.memo((()=>{const e=g.exports.useRef(null);E((e=>e.darkMode));const t=E((e=>{var t;return null==(t=e.userStatus)?void 0:t.auth}));return g.exports.useEffect((()=>(window.onload=()=>{b.from(e.current,{letterSpacing:"-0.5em",opacity:0,immediateRender:!1})},()=>{})),[]),p(),i.createElement("div",{className:"sticky top-0 z-[999] bg-gray-50 dark:bg-gray-900"},i.createElement("div",{className:"container relative flex items-center justify-between py-5 mx-auto"},i.createElement(v,{to:"/",className:"text-3xl font-extrabold logo dark:text-white w-fit",ref:e},"EventBuzz"),t?i.createElement(re,null):i.createElement(oe,null),t&&i.createElement("div",{className:"absolute flex items-center justify-center px-8 py-2 text-gray-500 transform -translate-x-1/2 bg-gray-100 rounded-t-lg dark:text-gray-300 dark:bg-gray-500 space-x-9 top-2 left-1/2 rounded-b-2xl"},i.createElement(R,{to:"/user-home",className:"p-3 transition-colors duration-200 rounded-xl",activeClassName:"text-gray-100 bg-[#022f96]"},i.createElement(S,{className:"w-8 h-8"})),i.createElement(R,{to:"/event-map",className:"p-3 rounded-xl",activeClassName:"text-gray-100 bg-[#022f96] transition-colors duration-200"},i.createElement(N,{className:"w-8 h-8"})),i.createElement(R,{to:"/user-calendar",className:"p-3 rounded-xl",activeClassName:"text-gray-100 bg-[#022f96] transition-colors duration-200"},i.createElement(O,{className:"w-8 h-8"})))))}));const ce=()=>{const e=x();return g.exports.useEffect((()=>e.listen((()=>{window.scrollTo({left:0,top:0,behavior:"smooth"})}))),[e]),null};var ie=g.exports.memo((e=>{var t=e,{path:a,component:o,exact:c,isPrivate:m,accessRole:d}=t,u=((e,t)=>{var a={};for(var o in e)n.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&r)for(var o of r(e))t.indexOf(o)<0&&s.call(e,o)&&(a[o]=e[o]);return a})(t,["path","component","exact","isPrivate","accessRole"]);const p=E((e=>e.userStatus.auth),w),x=E((e=>{var t,a,r;return null==(r=null==(a=null==(t=e.userStatus)?void 0:t.userInfo)?void 0:a.user)?void 0:r.role}),w);return i.createElement(U,l({render:e=>m?p?d.includes(x)?i.createElement(o,l({},e)):i.createElement(k,{to:"/"}):i.createElement(k,{to:"/login"}):i.createElement(o,l({},e))},u))}));const me=[{path:"/",exact:!0,component:g.exports.lazy((()=>X((()=>import("./index.d739225d.js")),["/bwd2021-frontend/assets/index.d739225d.js","/bwd2021-frontend/assets/vendor.3b6eeff8.js","/bwd2021-frontend/assets/fakeData.2751c5c7.js","/bwd2021-frontend/assets/UploadIcon.fc9fb733.js","/bwd2021-frontend/assets/event3.1c3d1ade.js"])))},{path:"/detail/:id",exact:!0,component:g.exports.lazy((()=>X((()=>import("./index.b60b169c.js")),["/bwd2021-frontend/assets/index.b60b169c.js","/bwd2021-frontend/assets/fakeData.2751c5c7.js","/bwd2021-frontend/assets/UploadIcon.fc9fb733.js","/bwd2021-frontend/assets/vendor.3b6eeff8.js","/bwd2021-frontend/assets/event3.1c3d1ade.js","/bwd2021-frontend/assets/GooglePlusIcon.a13f9b2b.js","/bwd2021-frontend/assets/index.modern.680db15f.js","/bwd2021-frontend/assets/index.14bf6300.js","/bwd2021-frontend/assets/index.eadeeb0c.js","/bwd2021-frontend/assets/index.esm.b855605a.js","/bwd2021-frontend/assets/AddIcon.a4255048.js"])))},{path:"/search",exact:!0,component:g.exports.lazy((()=>X((()=>import("./index.2dc1ffa1.js")),["/bwd2021-frontend/assets/index.2dc1ffa1.js","/bwd2021-frontend/assets/fakeData.2751c5c7.js","/bwd2021-frontend/assets/UploadIcon.fc9fb733.js","/bwd2021-frontend/assets/vendor.3b6eeff8.js","/bwd2021-frontend/assets/event3.1c3d1ade.js"])))},{path:"/login",exact:!0,component:g.exports.lazy((()=>X((()=>import("./index.7fe62948.js")),["/bwd2021-frontend/assets/index.7fe62948.js","/bwd2021-frontend/assets/GooglePlusIcon.a13f9b2b.js","/bwd2021-frontend/assets/vendor.3b6eeff8.js","/bwd2021-frontend/assets/index.esm.b855605a.js"])))},{path:"/signup",exact:!0,component:g.exports.lazy((()=>X((()=>import("./index.3bd49dec.js")),["/bwd2021-frontend/assets/index.3bd49dec.js","/bwd2021-frontend/assets/GooglePlusIcon.a13f9b2b.js","/bwd2021-frontend/assets/vendor.3b6eeff8.js","/bwd2021-frontend/assets/index.esm.b855605a.js"])))},{path:"/user-home",exact:!0,component:g.exports.lazy((()=>X((()=>import("./index.369ca039.js")),["/bwd2021-frontend/assets/index.369ca039.js","/bwd2021-frontend/assets/vendor.3b6eeff8.js","/bwd2021-frontend/assets/index.esm.b855605a.js","/bwd2021-frontend/assets/index.eadeeb0c.js"])))},{path:"/user-calendar",exact:!0,component:g.exports.lazy((()=>X((()=>import("./index.75379998.js")),["/bwd2021-frontend/assets/index.75379998.js","/bwd2021-frontend/assets/vendor.3b6eeff8.js"])))},{path:"/event-map",exact:!0,component:g.exports.lazy((()=>X((()=>import("./index.494aa88c.js")),["/bwd2021-frontend/assets/index.494aa88c.js","/bwd2021-frontend/assets/index.modern.680db15f.js","/bwd2021-frontend/assets/vendor.3b6eeff8.js","/bwd2021-frontend/assets/EventOnMapItem.b8a18f99.js","/bwd2021-frontend/assets/UploadIcon.fc9fb733.js"])))},{path:"/user-page",exact:!0,component:g.exports.lazy((()=>X((()=>import("./index.de8ac30e.js").then((function(e){return e.i}))),["/bwd2021-frontend/assets/index.de8ac30e.js","/bwd2021-frontend/assets/UploadIcon.fc9fb733.js","/bwd2021-frontend/assets/vendor.3b6eeff8.js"])))},{path:"/payment",exact:!0,component:g.exports.lazy((()=>X((()=>import("./index.949535d2.js")),["/bwd2021-frontend/assets/index.949535d2.js","/bwd2021-frontend/assets/AddIcon.a4255048.js","/bwd2021-frontend/assets/vendor.3b6eeff8.js","/bwd2021-frontend/assets/event3.1c3d1ade.js"])))},{path:"/user-event",exact:!0,component:g.exports.lazy((()=>X((()=>import("./index.bf56bca5.js")),["/bwd2021-frontend/assets/index.bf56bca5.js","/bwd2021-frontend/assets/vendor.3b6eeff8.js","/bwd2021-frontend/assets/index.esm.b855605a.js","/bwd2021-frontend/assets/index.modern.680db15f.js","/bwd2021-frontend/assets/EventOnMapItem.b8a18f99.js","/bwd2021-frontend/assets/UploadIcon.fc9fb733.js"])))},{path:"/admin",exact:!0,component:g.exports.lazy((()=>X((()=>import("./index.4c5e7c08.js")),["/bwd2021-frontend/assets/index.4c5e7c08.js","/bwd2021-frontend/assets/vendor.3b6eeff8.js"])))}];var de=g.exports.memo((function(){return i.createElement("div",{className:"flex flex-1 justify-items-stretch"},i.createElement(g.exports.Suspense,{fallback:i.createElement("div",{id:"loader-wrapper"},i.createElement("div",{id:"loader"}))},i.createElement(I,null,me.map(((e,t)=>{const{path:a,component:r,isPrivate:n=!1,role:s=[],exact:o}=e;return i.createElement(ie,{key:a,path:a,exact:o,component:r,isPrivate:n,accessRole:s})})))))}));const ue=()=>X((()=>import("./index.67299aef.js")),["/bwd2021-frontend/assets/index.67299aef.js","/bwd2021-frontend/assets/vendor.3b6eeff8.js"]).then((e=>e.default));function pe(){const e=E((e=>e.darkMode));return i.createElement("div",{className:""+(e?"dark":"")},i.createElement("div",{className:"dark:bg-[#121212] transition-colors flex flex-col min-h-screen"},i.createElement(L,{features:ue,strict:!0},i.createElement("div",{style:{position:"absolute"},id:"back-to-top-anchor"}),i.createElement(le,null),i.createElement(P,null),i.createElement(de,null),i.createElement(Y,null),i.createElement(ce,null))))}const Ee={colorPrimary1:"#092424",colorPrimary2:"#18675d",colorSecondary:"#07423f",colorTextTitle:"#07423f",colorText:"#fafafa",colorCard:"#2b2b2b24",breakPoints:{sm:`(max-width: ${576}px)`,md:`(max-width: ${768}px)`,lg:`(max-width: ${992}px)`,xl:`(max-width: ${1200}px)`,xxl:`(max-width: ${1400}px)`}},xe={auth:!1,userInfo:{user:{fullName:"",img:"",token:""}}},fe=T({darkMode:(e=false,t)=>{switch(t.type){case"CHANGE_DARKMODE":return t.payload;default:return e}},userStatus:(e=xe,t)=>{switch(t.type){case"USER_LOGIN_REQUEST":case"USER_SIGNUP_REQUEST":case"USER_LOGOUT_REQUEST":return l({},e);case"USER_LOGIN_SUCCESS":case"USER_SIGNUP_SUCCESS":case"FETCH_USER_INFO_SUCCESS":return c(l({},e),{auth:!0,userInfo:l(l({},e.userInfo),t.payload)});case"USER_LOGIN_ERROR":case"USER_SIGNUP_ERROR":return c(l({},e),{auth:!1});case"USER_LOGOUT_SUCCESS":case"USER_LOGOUT_ERROR":return c(l({},e),{auth:!1,userInfo:{}});default:return e}},error:(e={},t)=>{var a,r;const{type:n,payload:s}=t,o=/(.*)_(REQUEST|FAILURE|ERROR|SUCCESS)/.exec(n);if(!o)return e;const[,i,m]=o;return c(l({},e),{[i.toLowerCase()]:["FAILURE","ERROR"].includes(m)?(null==(r=null==(a=null==s?void 0:s.response)?void 0:a.data)?void 0:r.message)||(null==s?void 0:s.message)||s:""})},loading:(e={},t)=>{const{type:a}=t,r=/(.*)_(REQUEST|SUCCESS|FAILURE|ERROR)/.exec(a);if(!r)return e;const[,n,s]=r;return c(l({},e),{[n.toLowerCase()]:"REQUEST"===s})},modal:(e={},t)=>{const{type:a}=t,r=/(OPEN|CLOSE)_(.*)_(MODAL)/.exec(a);if(!r)return e;const[,n,s]=r;return c(l({},e),{[s.toLowerCase()]:"OPEN"===n})}}),ye=m.getJSON("userInfo-bwd")||null;var _e=A(fe,ye?{userStatus:{auth:!0,userInfo:l({},ye)}}:{},C(j(D)));G.defaults.baseURL={}.BE_URL;var ge;z("vi",V),ge=_e,G.interceptors.request.use((e=>{var t;if(!e.headers.Authorization){const a=null==(t=ge.getState().userStatus)?void 0:t.token;a&&(e.headers.Authorization=`Bearer ${a}`)}return e}),(e=>Promise.reject(e)));const ve=new M({uri:"http://localhost:5000/graphql",cache:new F({typePolicies:{Query:{fields:{posts:Q("type"),userPosts:Q("type"),commentsById:Q(["postId","commentId"])}},Post:{fields:{comments:Q()}}}}),connectToDevTools:!0,credentials:"include"});$.render(i.createElement(i.StrictMode,null,i.createElement(B,{theme:Ee},i.createElement(q,{store:_e},i.createElement(H,{basename:"/bwd2021-frontend/"},i.createElement(K,{client:ve},i.createElement(pe,null)))))),document.getElementById("root"));export{X as _,Z as d,ee as l,ae as u};
